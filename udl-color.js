javascript:(function(){var e=document.getElementById("contrast-checker-tool");if(e)return void e.remove();function t(e,t){var n=o(e[0],e[1],e[2]),r=o(t[0],t[1],t[2]),a=n>r?(n+.05)/(r+.05):(r+.05)/(n+.05);return a.toFixed(2)}function o(e,t,o){var n=[e,t,o].map(function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return.2126*n[0]+.7152*n[1]+.0722*n[2]}function n(e){if(!e||"transparent"===e||"rgba(0, 0, 0, 0)"===e)return[255,255,255];var t=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*[\d.]+)?\)/);return t?[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]:[0,0,0]}function r(e){document.documentElement.scrollTop=e.getBoundingClientRect().top+window.scrollY-100;var t=e.style.outline,o=e.style.backgroundColor;e.style.outline="3px solid red",e.style.backgroundColor="rgba(255,0,0,0.1)",setTimeout(function(){e.style.outline=t,e.style.backgroundColor=o},2e3)}var a=document.querySelectorAll("*"),l=[],i=0,s=0,c=0;for(var d=0;d<a.length;d++){var u=a[d];if(u.innerText&&u.innerText.trim()){var p=window.getComputedStyle(u),f=p.color,g=p.backgroundColor;if("transparent"===g||"rgba(0, 0, 0, 0)"===g){var h=u.parentElement;for(;h&&("transparent"===window.getComputedStyle(h).backgroundColor||"rgba(0, 0, 0, 0)"===window.getComputedStyle(h).backgroundColor);)h=h.parentElement;g=h?window.getComputedStyle(h).backgroundColor:"rgb(255, 255, 255)"}var m=n(f),v=n(g),b=t(m,v),y=parseFloat(p.fontSize),C=parseInt(p.fontWeight)>=700,x=y>=24||y>=18.66&&C,w=x?b>=3:b>=4.5,k=x?b>=4.5:b>=7;i++,w&&s++,k&&c++,l.push({element:u,text:u.innerText.substring(0,30)+(u.innerText.length>30?"...":""),textColor:f,bgColor:g,ratio:b,passesAA:w,passesAAA:k,fontSize:y.toFixed(1)+"px",isLargeText:x})}}var E={results:l,stats:{total:i,passedAA:s,passedAAA:c,percentAA:i>0?Math.round(s/i*100):0,percentAAA:i>0?Math.round(c/i*100):0}},S=document.createElement("div");S.id="contrast-checker-tool",S.style.position="fixed",S.style.top="20px",S.style.right="20px",S.style.width="350px",S.style.maxHeight="80vh",S.style.backgroundColor="#fff",S.style.zIndex="9999999",S.style.border="1px solid #ccc",S.style.borderRadius="5px",S.style.boxShadow="0 0 10px rgba(0,0,0,0.2)",S.style.overflow="auto",S.style.padding="15px",S.style.fontFamily="Arial, sans-serif";var A=document.createElement("h2");A.textContent="UDL 명암대비 검사 결과",A.style.margin="0 0 15px 0",A.style.padding="0 0 10px 0",A.style.borderBottom="1px solid #eee",A.style.fontSize="18px",S.appendChild(A);var L=document.createElement("button");L.textContent="닫기",L.style.position="absolute",L.style.top="10px",L.style.right="10px",L.style.padding="5px 10px",L.style.border="none",L.style.background="#f44336",L.style.color="white",L.style.cursor="pointer",L.style.borderRadius="3px",L.onclick=function(){S.remove()},S.appendChild(L);var M=document.createElement("div");M.style.margin="0 0 15px 0",M.innerHTML="<p>총 "+E.stats.total+"개 요소 중</p><p><strong>AA 레벨:</strong> "+E.stats.passedAA+"개 통과 ("+E.stats.percentAA+"%)</p><p><strong>AAA 레벨:</strong> "+E.stats.passedAAA+"개 통과 ("+E.stats.percentAAA+"%)</p>",S.appendChild(M);var T=document.createElement("div");T.style.display="flex",T.style.gap="10px",T.style.marginBottom="15px";var B=document.createElement("button");B.textContent="모두 보기",B.style.flex="1",B.style.padding="8px",B.style.cursor="pointer",B.onclick=function(){for(var e=document.querySelectorAll(".contrast-item"),t=0;t<e.length;t++)e[t].style.display="block"},T.appendChild(B);var N=document.createElement("button");N.textContent="실패한 항목만",N.style.flex="1",N.style.padding="8px",N.style.cursor="pointer",N.onclick=function(){for(var e=document.querySelectorAll(".contrast-item"),t=0;t<e.length;t++)e[t].dataset.passAa==="false"?e[t].style.display="block":e[t].style.display="none"},T.appendChild(N),S.appendChild(T);var _=document.createElement("div");for(var I=0;I<E.results.length;I++){var z=E.results[I],D=document.createElement("div");D.className="contrast-item",D.dataset.passAa=z.passesAA,D.style.padding="10px",D.style.marginBottom="10px",D.style.border="1px solid "+(z.passesAA?"#ccc":"#f44336"),D.style.borderRadius="4px",D.style.backgroundColor=z.passesAA?"#f9f9f9":"#ffebee";var F=document.createElement("div");F.style.marginBottom="5px",F.style.fontWeight="bold",F.style.overflow="hidden",F.style.textOverflow="ellipsis",F.style.whiteSpace="nowrap",F.textContent=z.text,D.appendChild(F);var G=document.createElement("div");G.style.display="flex",G.style.alignItems="center",G.style.gap="10px",G.style.marginBottom="5px";var H=document.createElement("div");H.style.width="20px",H.style.height="20px",H.style.backgroundColor=z.textColor,H.style.border="1px solid #ddd";var J=document.createElement("div");J.style.width="20px",J.style.height="20px",J.style.backgroundColor=z.bgColor,J.style.border="1px solid #ddd";var K=document.createElement("div");K.textContent="명암비: "+z.ratio+":1",G.appendChild(H),G.appendChild(J),G.appendChild(K),D.appendChild(G);var O=document.createElement("div");O.innerHTML="<span style='color:"+(z.passesAA?"green":"red")+"'>AA: "+(z.passesAA?"통과":"실패")+"</span> | <span style='color:"+(z.passesAAA?"green":"red")+"'>AAA: "+(z.passesAAA?"통과":"실패")+"</span>",D.appendChild(O);var P=document.createElement("div");P.textContent="텍스트 크기: "+z.fontSize+(z.isLargeText?" (큰 텍스트)":" (일반 텍스트)"),D.appendChild(P);var Q=document.createElement("button");Q.textContent="요소 확인",Q.style.marginTop="5px",Q.style.padding="3px 8px",Q.style.cursor="pointer",Q.dataset.index=I,Q.onclick=function(){r(E.results[this.dataset.index].element)},D.appendChild(Q),_.appendChild(D)}S.appendChild(_),document.body.appendChild(S)})();
